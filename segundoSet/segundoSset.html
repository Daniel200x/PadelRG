<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PUNTO DE ORO - Torneos de Pádel</title>
    <link rel="stylesheet" href="css/styles.css" />
    <style>
      .header-torneo {
        text-align: center;
        margin-bottom: 30px;
      }

      .header-torneo h1 {
        color: #2c3e50;
        font-size: 2.2em;
        margin-bottom: 10px;
      }

      .header-torneo .ubicacion {
        color: #7f8c8d;
        font-size: 1.2em;
        margin-bottom: 20px;
      }

      .header-torneo .logo {
        max-width: 150px;
        height: auto;
        margin-bottom: 20px;
      }

      /* Estilos adicionales para partidos de grupo */
      .partidos-grupo {
        margin-top: 20px;
        background-color: #f9f9f9;
        border-radius: 8px;
        padding: 15px;
      }

      .partidos-grupo h6 {
        margin-top: 0;
        margin-bottom: 15px;
        color: #3498db;
        font-size: 1.1em;
      }

      .partido-grupo {
        display: flex;
        justify-content: space-between;
        margin-bottom: 10px;
        padding-bottom: 10px;
        border-bottom: 1px solid #eee;
      }

      .partido-grupo:last-child {
        border-bottom: none;
      }

      .equipos-partido {
        flex: 1;
      }

      .resultado-partido {
        font-weight: bold;
        min-width: 100px;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header-torneo">
        <h1>TORNEO PUNTO DE ORO</h1>
        <p class="ubicacion">Club Pádel Madrid</p>
      </div>

      <div class="selectores">
        <div class="selector">
          <label for="selector-edicion">Edición:</label>
          <select id="selector-edicion" onchange="cambiarEdicion()">
            <option value="">-- Seleccione edición --</option>
            <option value="2023-1">3er torneo</option>
            <option value="2023-2">Edición Otoño 2023</option>
          </select>
        </div>

        <div class="selector">
          <label for="selector-categoria">Categoría:</label>
          <select id="selector-categoria" onchange="cambiarCategoria()">
            <option value="">-- Seleccione categoría --</option>
            <option value="4ta">4ta Categoría</option>
            <option value="5ta">5ta Categoría</option>
            <option value="6ta">6ta Categoría</option>
            <option value="7ma">7ma Categoría</option>
            <option value="8va">8va Categoría</option>
          </select>
        </div>
      </div>

      <div id="contenido-ediciones"></div>
      <!-- Botón Volver al Inicio -->
      <div class="contenedor-btn-volver">
        <a href="../index.html" class="btn-volver">Volver al Inicio</a>
      </div>
    </div>

    <script src="js/common.js"></script>
    <script>
     // Datos específicos del torneo Punto de Oro
  const ediciones = {
    "2023-1": {
      nombre: "3ra Edición 2025",
      fecha: "15-30 Julio 2023",
      categorias: {}
    },
    "2023-2": {
      nombre: "Edición Otoño 2023",
      fecha: "15-30 Octubre 2023",
      categorias: {}
    }
  };

  // Variables para controlar la selección actual
  let edicionActual = null;
  let categoriaActual = null;

  // Función para cargar los datos de categorías
  async function cargarCategorias() {
    const categorias = ['4ta', '5ta', '6ta', '7ma', '8va'];
    
    for (const categoria of categorias) {
      try {
        const response = await fetch(`js/categorias/${categoria}.json`);
        if (response.ok) {
          const data = await response.json();
          ediciones["2023-1"].categorias[categoria] = data;
        }
      } catch (error) {
        console.error(`Error cargando categoría ${categoria}:`, error);
      }
    }
  }

  // Función para cambiar de edición
  function cambiarEdicion() {
    const selector = document.getElementById("selector-edicion");
    const edicionSeleccionada = selector.value;
    categoriaActual = null;
    document.getElementById("selector-categoria").value = "";

    if (edicionSeleccionada) {
      edicionActual = ediciones[edicionSeleccionada];
      renderizarEdicion(edicionActual, null);
    } else {
      document.getElementById("contenido-ediciones").innerHTML = "";
    }
  }

  // Función para cambiar de categoría
  function cambiarCategoria() {
    const selector = document.getElementById("selector-categoria");
    categoriaActual = selector.value;

    if (edicionActual) {
      renderizarEdicion(edicionActual, categoriaActual);
    }
  }

  // Inicialización
  document.addEventListener("DOMContentLoaded", async function () {
    await cargarCategorias();
    // Puedes cargar una edición por defecto si lo deseas
    // document.getElementById('selector-edicion').value = '2023-1';
    // cambiarEdicion();
  });
    </script>
  </body>
</html>
